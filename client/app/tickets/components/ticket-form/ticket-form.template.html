<form (ngSubmit)="onSubmit(ticketForm.value)" [formGroup]="ticketForm">
  <div class="form-group">
    <label for="ticket-title">Title</label>
    <input type="text" formControlName="title" class="form-control" id="ticket-title">
  </div>
  <div *ngIf="ticketForm.controls.title.hasError('required') && ticketForm.controls.title.touched"
       class="alert alert-danger">
    Title is required
  </div>

  <div class="form-group">
    <label for="ticket-assignee">Assignee</label>
    <select class="form-control" id="ticket-assignee" formControlName="assignee">
      <option *ngFor="let item of assignee | async" value="{{item._id}}">{{item.username}}</option>
    </select>
  </div>
  <div *ngIf="ticketForm.controls.assignee.hasError('required') && ticketForm.controls.assignee.touched"
       class="alert alert-danger">
    Assignee is required
  </div>

  <div class="form-group">
    <label>Priority
      <select formControlName="priority" class="form-control">
        <option value="low">low</option>
        <option value="medium">medium</option>
        <option value="high">high</option>
      </select>
    </label>
  </div>

  <div class="form-group">
    <label for="ticket-content">Content</label>
    <textarea formControlName="content" class="form-control" id="ticket-content" rows="5"></textarea>
  </div>

  <div class="form-group">
    <label>Attachments</label>
    <input type="file" formControlName="attachments">
  </div>

  <button type="submit" [disabled]="!ticketForm.valid" class="btn btn-primary">Save</button>
</form>
